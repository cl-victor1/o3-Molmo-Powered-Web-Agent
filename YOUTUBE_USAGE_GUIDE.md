# YouTube视频点击功能使用指南

## 功能概述

这个Chrome扩展可以通过自然语言命令在YouTube页面上自动点击视频。它使用Molmo API进行视觉识别，能够准确定位页面上的视频元素并执行点击操作。

## 使用步骤

### 1. 准备工作
1. 确保Chrome扩展已正确安装并启用
2. 在扩展弹窗中设置OpenAI API密钥
3. 确认Molmo API服务器正在运行（默认地址：`http://10.64.77.53:8000/molmo/point`）

### 2. 在YouTube页面使用

1. **打开YouTube页面**
   - 访问 https://youtube.com
   - 或任何包含视频列表的YouTube页面

2. **点击扩展图标**
   - 在Chrome工具栏中点击扩展图标
   - 弹出控制面板

3. **输入自然语言命令**
   - 在文本框中输入你的命令
   - 支持中文和英文

### 3. 支持的命令示例

#### 中文命令
- `打开第一个视频`
- `点击第一个视频`
- `播放第一个视频`
- `点击第二个视频`
- `打开第三个视频`

#### 英文命令
- `Open the first video`
- `Click the first video`
- `Play the first video`
- `Click on the second video`
- `Open the third video`

#### 特定视频命令
- `点击标题为"猫咪视频"的视频`
- `Play the video titled "Funny Cats"`

### 4. 执行模式

#### 自动执行模式（推荐）
- 勾选"Auto-execute all tasks"选项
- AI会自动完成整个任务流程
- 无需手动干预

#### 手动模式
- 取消勾选自动执行选项
- AI会返回执行计划，但不会自动执行
- 需要手动确认每个步骤

## 技术原理

### 工作流程
```
用户输入命令
    ↓
OpenAI API解析命令意图
    ↓
生成click动作指令
    ↓
截取当前页面截图
    ↓
调用Molmo API识别目标元素
    ↓
获取精确坐标位置
    ↓
在指定坐标执行鼠标点击
    ↓
视频页面打开
```

### 关键组件
1. **OpenAI API**: 理解自然语言命令
2. **Molmo API**: 视觉元素识别和定位
3. **Chrome Extension API**: 页面截图和点击执行
4. **Content Script**: 页面内容分析和操作

## 故障排除

### 常见问题

#### 1. 点击没有反应
**可能原因**:
- Molmo API服务器未运行
- 网络连接问题
- 页面元素被遮挡

**解决方案**:
- 检查Molmo API服务器状态
- 确认网络连接正常
- 滚动页面确保目标视频可见

#### 2. 找不到视频元素
**可能原因**:
- 命令描述不够准确
- 页面布局特殊
- 视频尚未加载完成

**解决方案**:
- 使用更具体的描述（如"第一个视频"而不是"视频"）
- 等待页面完全加载后再执行命令
- 尝试滚动到视频可见区域

#### 3. API调用失败
**可能原因**:
- OpenAI API密钥无效
- Molmo API服务器不可访问
- 网络超时

**解决方案**:
- 验证API密钥是否正确
- 检查Molmo服务器地址配置
- 重试命令执行

### 调试信息

在Chrome开发者工具的Console中可以查看详细的执行日志：
1. 按F12打开开发者工具
2. 切换到Console标签
3. 执行命令时观察日志输出

## 最佳实践

### 1. 命令编写建议
- **具体明确**: 使用"第一个视频"而不是"视频"
- **位置描述**: 使用序数词（第一、第二、第三）
- **标题引用**: 对于特定视频，包含完整或部分标题

### 2. 使用环境
- **网络稳定**: 确保网络连接稳定
- **页面加载**: 等待YouTube页面完全加载
- **视频可见**: 确保目标视频在当前视窗中可见

### 3. 性能优化
- **批量操作**: 可以组合多个命令
- **等待时间**: 系统会自动处理加载等待
- **错误重试**: 失败时会自动重试最多3次

## 扩展功能

### 未来可能支持的功能
- 视频搜索和过滤
- 播放列表操作
- 视频质量调整
- 评论和点赞操作

### 自定义配置
可以在`background.js`中修改以下配置：
- Molmo API地址
- 重试次数
- 超时时间
- 等待间隔

## 安全注意事项

1. **API密钥保护**: 不要在公共场所暴露API密钥
2. **权限控制**: 扩展只在用户明确授权时执行操作
3. **数据隐私**: 截图数据仅用于视觉识别，不会被存储
4. **网站兼容**: 仅在YouTube等支持的网站上使用

## 技术支持

如果遇到问题，请检查：
1. Chrome扩展是否正确安装
2. API密钥是否有效
3. Molmo服务器是否可访问
4. 网络连接是否正常

更多技术细节请参考项目的README.md文件。 